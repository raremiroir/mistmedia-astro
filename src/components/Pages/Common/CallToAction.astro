---
import { t } from "i18next";
// Astro components
import Section from "@/components/Core/Section/Section.astro";
// Svelte components
import Title from "@/components/Text/Title/Title.svelte";
import Card from "@/components/Common/Card/Card.svelte";
import Svg from "@/components/Media/Svg/Svg.svelte";

let ctaCards:{[key:string]:string}[] = [];
/* @ts-ignore */
Object.keys(t("home:cta")).forEach((key) => {
	if (key !== 'title') {
		ctaCards.push({
			title: t(`home:cta.${key}.title`),
			subtitle: t(`home:cta.${key}.subtitle`),
			icon: 'DevicesResponsive'
		})
	}
});
---

<!-- CTA -->
<Section alt name="cta" title={`${t("home:cta.title")}`}>
   <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
      {ctaCards.map((item) => (
         <><Card client:idle block hover active>
            <div slot="title" class="flex items-center justify-start gap-3">
               <Svg animIcon={item.icon} size={48} />
               <Title h3 size="xs" class="pt-2">
                  {item.title}
               </Title>
            </div>
            {item.subtitle}
         </Card></>
      ))}
   </div>
</Section>
<!-- END CTA -->