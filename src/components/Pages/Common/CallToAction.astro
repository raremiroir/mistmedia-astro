---
import { t } from "i18next";
// Astro components
import Section from "@comp/Base/Section.astro";
// Svelte components
import Heading from "@comp/Common/Heading/Heading.svelte";
import Card from "@comp/Common/Card/Card.svelte";
import Svg from "@comp/Media/Svg/Svg.svelte";

let ctaCards:{[key:string]:string}[] = [];
/* @ts-ignore */
Object.keys(t("home:cta")).forEach((key) => {
	if (key !== 'title') {
		ctaCards.push({
			title: t(`home:cta.${key}.title`),
			subtitle: t(`home:cta.${key}.subtitle`),
			icon: 'DevicesResponsive'
		})
	}
});
---

<!-- CTA -->
<Section alt name="cta" title={`${t("home:cta.title")}`}>
   <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
      {ctaCards.map((item) => (
         <><Card client:idle block hover active>
            <div slot="title" class="flex items-center justify-start gap-3">
               <Svg animIcon={item.icon} size={48} />
               <Heading type="h3" size="xxs" klass="pt-2">
                  {item.title}
               </Heading>
            </div>
            {item.subtitle}
         </Card></>
      ))}
   </div>
</Section>
<!-- END CTA -->