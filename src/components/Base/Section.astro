--- 
import { widths } from "../../consts/class";
import Heading from "../Common/Heading/Heading.svelte";
export interface Props {
   name: string;
   title?: string;
   subtitle?: string;
   klass?: string;
   alt?: boolean;
   transparent?: boolean;
   fullWidthPrepend?: boolean;
   fullWidthAppend?: boolean;
}

const { 
   name, title, subtitle, 
   alt, transparent, klass,
   fullWidthPrepend = false,
   fullWidthAppend = false,
} = Astro.props;


const sectionClass = `
   w-full mx-auto
   flex flex-col gap-8 
   pb-12 md:pb-16 
   pt-6 md:pt-8 
   px-1 xs:px-2 sm:px-4 md:px-0
   ${ transparent ? 'bg-transparent' : `
   ${ alt ? 'bg-surface-100 dark:bg-surface-800' : 'bg-white/50 dark:bg-surface-700' }
   `}
   ${klass}
`;
---

<section
   id={name}
   class={sectionClass}>

   {
      fullWidthPrepend && (
         <div class="w-full">
            <slot name="prepend" />
         </div>
      )
   }

   <div class={widths}>

      <!-- Section Title -->
      <div class="mt-0 mx-0 mb-8 py-0 pr-0 pl-8 border-l-4 border-primary-700 dark:border-primary-600/40">
         <slot name="title">
            <Heading client:load type="h2" size="xs" klass="capitalize">
               {title}
            </Heading>
            { subtitle && (
               <Heading client:load type="subheader" size="xs" klass="text-surface-400 dark:text-surface-600 italic">
                  {subtitle}
               </Heading>
            )}
         </slot>
         <slot name="title"/>
      </div>
      
      <!-- Section Content -->
      <div class="m-0 flex flex-col gap-8">
         <slot/>
      </div>
   </div>

   {
      fullWidthAppend && (
         <div class="w-full">
            <slot name="append" />
         </div>
      )
   }

</section>