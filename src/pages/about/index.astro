---
import { t, changeLanguage } from "i18next";
// Astro components
import BaseLayout from "@layouts/BaseLayout.astro";
import Page from "@comp/Base/Page.astro";
import Section from "@comp/Base/Section.astro";
import Hero from "@comp/Main/Hero/Hero.astro";
import { Icon } from "astro-icon";
import { Picture } from "@astrojs/image/components";
// Svelte components
import Box from "@comp/Base/Box.svelte";
import Heading from "@comp/Common/Heading/Heading.svelte";
import Button from "@comp/Common/Button/Button.svelte";
import Card from "@comp/Common/Card/Card.svelte";
import Drawer from "@comp/Common/Drawer/Drawer.svelte";
import Svg from "@comp/Media/Svg/Svg.svelte";
import MistLogoAnim from "@comp/Media/Svg/svg-assets/MistLogoAnim.svelte";
// Page specific components
import AboutTechStackMarquee from "@comp/Pages/About/AboutTechStackMarquee.astro";

changeLanguage("nl");

// Value Cards
let valueCards:{[key:string]:string}[] = [];
/* @ts-ignore */
t("about:values.items").forEach((value) => {
	 valueCards.push({
		  title: value.title,
		  description: value.desc,
		  icon: 'DevicesResponsive'
	 })
});
---

<BaseLayout title={t("site:pages.about.title")}>
	<Page>
		<!-- HERO -->
		<Hero slot="hero" title="About Us" bgImg="/images/stock/webdev-2.webp" media>
			<div slot="media" class="w-1/3 mb-6">
				<MistLogoAnim client:idle light={`fill-surface-400 dark:fill-surface-400`} dark={`fill-surface-600 dark:fill-surface-100`} />
			</div>
			<p slot="subtitle">
				{t("about:intro.desc")}
			</p>
		</Hero>
		<!-- END HERO -->

		<!-- ABOUT ME -->
		<Section name="about-me" title="" alt>
			<div class="w-full h-fit flex flex-row gap-4 sm:gap-6 mx-auto">
				<Box 
					class="h-full"
					client:load
					size="none">
					<Picture 
						src="/images/team/MiroStorm-Color.png"
						alt={`Miro Storm - ${t("about:miro.title")}`}
						sizes="(min-width: 600px;) 400w, (min-width: 800px;) 600w, (min-width: 1200px;) 800w"
						widths={[400, 600, 800]}
						formats={['webp', 'avif', 'png']}
						aspectRatio={1}
						fit="cover"
						position="center"
						class="h-full w-auto max-w-sm bg-transparent"
					/>
				</Box>
				<div class="flex flex-col justify-start gap-4">
					<Card color="surface" klass="col-span-3 sm:row-span-1">
						<Heading type="h3" size="xs" slot="title">
							{t("about:miro.hello")}<br />
							{t("about:miro.i_am")}
						</Heading>
						<p>
							{t("about:miro.desc.0")}<br/>
							{t("about:miro.desc.1")}
						</p>
					</Card>
					<!-- Buttons -->
					<div class="flex flex-row gap-4 col-span-12 sm:col-span-8 sm:row-span-1">
						<!-- About Me -->
						<Drawer id="drawer_about-me" client:load>
							<Button slot="trigger" color="surface_alt" size='xl' capitalize>
								{t("about:miro.more.title")}
							</Button>
							<span slot="title" class="capitalize">{t("about:miro.more.title_alt")}</span>
						</Drawer>

						<!-- LinkedIn Icon -->
						<!-- <Button 
							color="bg-[#0072b1] shadow-[#00507A]" 
							size="square-xl" 
							hoverFx>
								<Icon icon="animLinkedIn" animSize="40" normColor="fill-primary-d1 dark:fill-secondary-d1" darkColor="fill-primary-l3 dark:fill-secondary-d3"/>
						</Button> -->
						<!-- GitHub Icon -->
						<!-- <Button 
							color="bg-secondary-d2 dark:bg-secondary-d3" 
							size="square-xl" 
							hoverFx>
								<Icon icon="animGithub" animSize="40" normColor="fill-primary-d3 dark:fill-secondary-d1" strokeDarkColor="stroke-primary-l3 dark:stroke-secondary-l3"/>
						</Button> -->
						<!-- Facebook Icon -->
						<!-- <Button 
							color="bg-[#3b5998] shadow-[#2E4476]" 
							size="square-xl" 
							hoverFx>
								<Icon icon="animFacebook" animSize="40" normColor="fill-primary-l3 dark:fill-secondary-l3" darkColor="fill-primary-l3 dark:fill-secondary-l3"/>
						</Button> -->
						<!-- Instagram Icon -->
						<!-- <Button 
							color="bg-gradient-to-tr from-[#fbad50] via-[#cd486b] to-[#8a3ab9]" 
							size="square-xl" 
							hoverFx>
								<Icon icon="animInsta" animSize="40" normColor="fill-secondary/50 dark:fill-primary/50" darkColor="fill-primary-l3 dark:fill-secondary-d3"/>
						</Button> -->
					</div>
				</div>
			</div>
		</Section>
		<!-- END ABOUT ME -->

		<!-- VALUES -->
		<Section 
			fullWidthAppend
			name="about-difference" title={`${t("about:values.title")}`}
			subtitle={`${t("about:values.subtitle")}`}>
			<div class="w-full grid grid-cols-1 md:grid-cols-2 gap-8">
				{valueCards.map((value) => (
					<><Card client:idle direction="row" centerRow block hover active>
						<Heading slot="title" type="h3" size="xxs" weight="font-bold">
							{value.title}
						</Heading>
						<Svg 
							slot="media" animIcon={value.icon} client:load 
						/>
						{value.description}
					</Card></>
				))}
			</div>

			<AboutTechStackMarquee slot="append" />
		</Section>
		<!-- END VALUES -->

	</Page>
</BaseLayout>
